<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.0.36">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Yaqian Huang">
<meta name="dcterms.date" content="2023-06-09">

<title>Shiny Guide for Instructors using Skills-Based Grading</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="guide_instructor_files/libs/clipboard/clipboard.min.js"></script>
<script src="guide_instructor_files/libs/quarto-html/quarto.js"></script>
<script src="guide_instructor_files/libs/quarto-html/popper.min.js"></script>
<script src="guide_instructor_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="guide_instructor_files/libs/quarto-html/anchor.min.js"></script>
<link href="guide_instructor_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="guide_instructor_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="guide_instructor_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="guide_instructor_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="guide_instructor_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#bruinlearn-setup" id="toc-bruinlearn-setup" class="nav-link active" data-scroll-target="#bruinlearn-setup">BruinLearn setup</a></li>
  <li><a href="#download-r-and-rstudio" id="toc-download-r-and-rstudio" class="nav-link" data-scroll-target="#download-r-and-rstudio">Download R and RStudio</a></li>
  <li><a href="#install-shiny-dependencies" id="toc-install-shiny-dependencies" class="nav-link" data-scroll-target="#install-shiny-dependencies">Install Shiny dependencies</a></li>
  <li><a href="#prepare-csv-files" id="toc-prepare-csv-files" class="nav-link" data-scroll-target="#prepare-csv-files">Prepare csv files</a></li>
  <li><a href="#data-preparation-part" id="toc-data-preparation-part" class="nav-link" data-scroll-target="#data-preparation-part">Data preparation part</a></li>
  <li><a href="#data-wrangling-part" id="toc-data-wrangling-part" class="nav-link" data-scroll-target="#data-wrangling-part">Data wrangling part</a></li>
  <li><a href="#app-part" id="toc-app-part" class="nav-link" data-scroll-target="#app-part">APP part</a></li>
  <li><a href="#debug" id="toc-debug" class="nav-link" data-scroll-target="#debug">Debug</a></li>
  <li><a href="#deployment" id="toc-deployment" class="nav-link" data-scroll-target="#deployment">Deployment</a></li>
  <li><a href="#a-final-step-to-show-it-to-your-students" id="toc-a-final-step-to-show-it-to-your-students" class="nav-link" data-scroll-target="#a-final-step-to-show-it-to-your-students">A final step to show it to your students</a></li>
  </ul>
</nav>
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Shiny Guide for Instructors using Skills-Based Grading</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Yaqian Huang </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">June 9, 2023</p>
    </div>
  </div>
    
  </div>
  

</header>

<section id="bruinlearn-setup" class="level2">
<h2 class="anchored" data-anchor-id="bruinlearn-setup">BruinLearn setup</h2>
<p>The most tedious work is to create multiple quizzes for each week, because each quiz needs to be tagged by a particular skill.</p>
<p>Quizzes are associated with question banks, as is the case with LING 102/103.</p>
<p>In BruinLearn, you will go to <em>Quizzes -&gt; +Quiz</em></p>
<p>In the new <em>Unnamed Quiz</em> window, change the name of the Quiz to be <strong>QuizX-SkillName</strong></p>
<p><strong>SkillName = Skill number + Skill name</strong></p>
<p>For example, <strong>1.1.DefineSymbol = 1.1.</strong> + <strong>DefineSymbol</strong></p>
<p>Then the name of the first quiz tagged with skill 1.1 will be, <strong>Quiz1-1.1.DefineSymbol</strong></p>
<p>It is best if you do not have any spaces in your quiz names. If you do, you need to watch out for the column names after R read it in, because R will fill in any spaces/blanks with dots.</p>
</section>
<section id="download-r-and-rstudio" class="level2">
<h2 class="anchored" data-anchor-id="download-r-and-rstudio">Download R and RStudio</h2>
<p>Follow the instructions on this webpage: <a href="https://posit.co/download/rstudio-desktop/" class="uri">https://posit.co/download/rstudio-desktop/</a></p>
<p>Make sure you have installed both R and RStudio.</p>
</section>
<section id="install-shiny-dependencies" class="level2">
<h2 class="anchored" data-anchor-id="install-shiny-dependencies">Install Shiny dependencies</h2>
<p>Open up RStudio, type in the Console:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="fu">c</span>(<span class="st">"shiny"</span>,<span class="st">"rsconnect"</span>,<span class="st">"tidyverse"</span>,<span class="st">"ggplot2"</span>,<span class="st">"reshape2"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="prepare-csv-files" class="level2">
<h2 class="anchored" data-anchor-id="prepare-csv-files">Prepare csv files</h2>
<p>You will need:</p>
<ol type="1">
<li>csv exported from BruinLearn with all the grades (update weekly)</li>
</ol>
<ul>
<li><p>Go to your course page on BruinLearn</p></li>
<li><p>Click on <em>Grades</em>, on that page, Click on <em>Actions -&gt; Export Current Gradebook View</em></p></li>
<li><p>You should update this weekly, or based on whatever interval you want to update the app and the grades</p></li>
</ul>
<ol start="2" type="1">
<li><code>skills.csv</code> which has skills and # of times of mastery</li>
</ol>
<ul>
<li>Prepare a csv which contains two columns: <em>skills (number + name)</em>; <em># times of mastery</em></li>
</ul>
<ol start="3" type="1">
<li><code>studentIDs.csv</code> which has student keys matching their names in an alphabetical order</li>
</ol>
<ul>
<li>Prepare a csv which contains two columns: <em>Student names</em> (in an alphabetical order) and <em>their random Keys</em> that they use to locate their grades and remain confidential</li>
</ul>
<p>Prepare your csv using the template files provided in this folder, change only the contents, DO NOT change the column names of <code>skills.csv</code>and <code>studentIDs.csv</code>.</p>
</section>
<section id="data-preparation-part" class="level2">
<h2 class="anchored" data-anchor-id="data-preparation-part">Data preparation part</h2>
<p>Open up the <code>app.R</code> script in RStudio. If you have installed R and RStudio, double click on the script should open up RStudio automatically.</p>
<section id="load-the-first-csv-file-with-grades." class="level4">
<h4 class="anchored" data-anchor-id="load-the-first-csv-file-with-grades.">Load the first csv file with grades.</h4>
<p>Extract its name, and replace the sample file with the FILENAME of your file:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># the template:</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">'ng-2023-03-16T1433_Grades-23W-LING-103-LEC-1.csv'</span>)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Replace:</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">'FILENAME.csv'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="filter-students-who-are-enrolled." class="level4">
<h4 class="anchored" data-anchor-id="filter-students-who-are-enrolled.">Filter students who are enrolled.</h4>
<p>Typically, they should be in a Discussion Section. For example, LING 103 has four sections, so by only selecting the four sections, I only select the enrolled students.</p>
<p>You should change the section names according to your course in the script.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># the template:</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> data<span class="sc">%&gt;%</span><span class="fu">filter</span>(Section <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">'23W-LING-103-DIS-1A'</span>,<span class="st">'23W-LING-103-DIS-1B'</span>,</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>                                     <span class="st">'23W-LING-103-DIS-1C'</span>,<span class="st">'23W-LING-103-DIS-1D'</span>))</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="co"># check which sections are in your course:</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(data<span class="sc">$</span>Section)</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Replace:</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> data<span class="sc">%&gt;%</span><span class="fu">filter</span>(Section <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">'section1'</span>,<span class="st">'section2'</span>,</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>                                     <span class="st">'section3'</span>,<span class="st">'...'</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="load-the-second-csv-file." class="level4">
<h4 class="anchored" data-anchor-id="load-the-second-csv-file.">Load the second csv file.</h4>
<p>Inspect the <code>skills.csv</code> template. Modify based on the skills and # times of mastery for your own course.</p>
<p><strong>NOTE</strong>: you need to have the <strong>.</strong> after the skill number, so <strong>1.1.</strong>, not 1.1</p>
<p><strong>Be consistent with how you enter the skill in the quiz name on BruinLearn!</strong></p>
<p>Run the following lines in the script to double check:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>skills <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">'skills.csv'</span>)</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>skills<span class="sc">$</span>skill <span class="co"># check this</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="load-the-third-csv-file." class="level4">
<h4 class="anchored" data-anchor-id="load-the-third-csv-file.">Load the third csv file.</h4>
<p>Inspect the <code>studentIDs.csv</code> template. Modify based on the students in your class, and the random keys you generated for them. There are many ways to generate random names or words online.</p>
<p><strong>NOTE</strong>: The student names and format in the <code>Student</code> column in this csv should be <strong>the same as</strong> the first column <code>Student</code> in your first csv from BruinLearn with grades.</p>
<p>Run the following lines to double check:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>student_key <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">'studentIDs.csv'</span>)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>student_key</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Students may drop the class at any point. We want to take this into account every time we update the grades for individuals and as a class. The <code>merge_sheets</code> function on line 87 in the <code>app.R</code> script takes care of this by comparing the students in the <code>studentIDs.csv</code> and the students who still exist in the updated csv from BruinLearn.</p>
<p>That is why it is so important to ensure the <code>Student</code> in <code>studentIDs.csv</code> matches the <code>Student</code> in the BruinLearn csv with grades in terms of format and content. Otherwise, it may accidentally omit students.</p>
<p>This way, you do not have to check who dropped and manually delete rows in the <code>studentIDs.csv</code>.</p>
</section>
</section>
<section id="data-wrangling-part" class="level2">
<h2 class="anchored" data-anchor-id="data-wrangling-part">Data wrangling part</h2>
<p>Now, all the preparation of the csv has been completed.</p>
<p>Open up your BruinLearn csv, and inspect the dataset. There are usually 5 columns of students’ meta-data in the beginning, starting from <code>Student</code> to <code>Section</code>, which will need to be removed.</p>
<p>An important step is to transform the data from a wide format to a long format.</p>
<ul>
<li><p>Wide format: your BruinLearn csv has fewer rows than columns such that each row corresponds to one student, and each column corresponds to one quiz item and its score, and one student is associated with multiple scores, so multiple columns.</p></li>
<li><p>Long format: we need the dataset to have one unique score corresponding to one entry of the student and one particular quiz item. As a result, the dataset will have more rows than columns. So each student is now associated with multiple rows, with only one column of a quiz item, and another column of the quiz score.</p></li>
</ul>
<p>You should rearrange the dataset by selecting between the 1st column of the grades data after removing the meta data and the last column before the ‘key’.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># With this template I provided, there are only 2 columns to remove: -c(1,2) because I already removed the student contacts and IDs.</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>data.long <span class="ot">&lt;-</span> <span class="fu">gather</span>(data[<span class="sc">-</span><span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>)],item,score,<span class="fu">colnames</span>(data)[<span class="dv">3</span>]<span class="sc">:</span><span class="fu">colnames</span>(data)[<span class="dv">153</span>],<span class="at">factor_key=</span>T)</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="co"># You should inspect the column names, use:</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(data)</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a><span class="co"># You should see five columns of meta-data to be removed: -c(1:5)</span></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a><span class="co"># You should select from the first quiz or assignment item which should start at [6] (the 1st col after the meta-data),</span></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a><span class="co"># to the column right before the 'key' column (which is also the second-to-last column) to select all the grade items:</span></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a><span class="co"># colnames(data)[6]:colnames(data)[`second-to-last column index`]</span></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Use the following line, and Replace `second-to-last column index` with a real number based on your data:</span></span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>data.long <span class="ot">&lt;-</span> <span class="fu">gather</span>(data[<span class="sc">-</span><span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>)],item,score,<span class="fu">colnames</span>(data)[<span class="dv">6</span>]<span class="sc">:</span><span class="fu">colnames</span>(data)[<span class="st">`</span><span class="at">second-to-last column index</span><span class="st">`</span>],<span class="at">factor_key=</span>T)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>You only need to change all these for once, usually the first time using this script. Once you have set it up correctly, what is left is only updating the BruinLearn csv with grades weekly, and change the FILENAME on line 33 in <code>app.R</code>. Then, you can go straightly into <code>Run App</code>.</p>
</section>
<section id="app-part" class="level2">
<h2 class="anchored" data-anchor-id="app-part">APP part</h2>
<p>Compare to the data preparation parts, this part is fairly light on what you will need to do.</p>
<p>The only thing that needs to be changed is <code>choices</code> in <code>selectInput()</code> in Shiny. You want to modify it to make them exactly the same as the skills in your modified <code>skills.csv</code> for your course.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>  <span class="fu">selectInput</span>(<span class="co"># Create the choices that can be selected.</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>              <span class="at">choices =</span> <span class="fu">c</span>(<span class="st">"1.1.DefineSymbol"</span><span class="ot">=</span><span class="st">"1.1."</span>,</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>                          <span class="st">"1.2.GiveSymbol"</span><span class="ot">=</span><span class="st">"1.2."</span>,</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>                          <span class="st">"2.1.TranscribeMulti"</span><span class="ot">=</span><span class="st">"2.1."</span>,</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>                          <span class="st">"2.2.TranscribeC"</span><span class="ot">=</span><span class="st">"2.2."</span>,</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>                          <span class="st">"2.3.TranscribeV"</span><span class="ot">=</span><span class="st">"2.3."</span>,</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>                          <span class="st">"2.4.TranscribeTone"</span><span class="ot">=</span><span class="st">"2.4."</span>,</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>                          <span class="st">"2.5.TranscribeKnown"</span><span class="ot">=</span><span class="st">"2.5."</span>,</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>                          <span class="st">"3.1.ReadVocalTract"</span><span class="ot">=</span><span class="st">"3.1."</span>,</span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>                          <span class="st">"3.2.GesturalScore"</span><span class="ot">=</span><span class="st">"3.2."</span>,</span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>                          <span class="st">"4.1.SegmentSpectro"</span><span class="ot">=</span><span class="st">"4.1."</span>,</span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>                          <span class="st">"4.2.ReadSpectro"</span><span class="ot">=</span><span class="st">"4.2."</span>,</span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>                          <span class="st">"4.3.IdentifyDisplay"</span><span class="ot">=</span><span class="st">"4.3."</span>,</span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>                          <span class="st">"4.4.ReadFrequency"</span><span class="ot">=</span><span class="st">"4.4."</span>,</span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a>                          <span class="st">"4.5.HarmonicsFormants"</span><span class="ot">=</span><span class="st">"4.5."</span>,</span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a>                          <span class="st">"5.Apply"</span><span class="ot">=</span><span class="st">"5."</span>),</span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a>              <span class="at">selected =</span> <span class="st">"NA"</span>, <span class="co"># from the set of choice values</span></span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a>              </span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>You need to follow this structure:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="st">"Skill1"</span> <span class="ot">=</span> <span class="st">"SkillNumber1"</span>,</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Skill2"</span> <span class="ot">=</span> <span class="st">"SkillNumber2"</span>,</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Skill3"</span> <span class="ot">=</span> <span class="st">"SkillNumber3"</span>,</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>     ...</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Again, pay attention to the final <strong>.</strong> at the end of each skill number.</p>
<p>You may want to modify the following instructions to your need, for example, show students how to use it, change any of the aesthetics (if you also change the points’ styles and colors in <code>ggplot</code>), and change to a new date each time the grades are up-to-date.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">p</span>(<span class="st">"Your grade is highlighted in"</span>, <span class="fu">span</span>(<span class="st">"purple"</span>,<span class="at">style=</span><span class="st">'color:magenta'</span>), </span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">"dots with scores in"</span>, <span class="fu">span</span>(<span class="st">"blue text"</span>,<span class="at">style=</span><span class="st">'color:blue'</span>), <span class="st">"overlaid."</span>,</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">br</span>(),</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">"The"</span>, <span class="fu">span</span>(<span class="st">"gray"</span>,<span class="at">style=</span><span class="st">'color:gray'</span>), <span class="st">"dots are distributions of the grades as a class."</span>, <span class="fu">br</span>(),</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">"The star indicates the required # of times towards mastery of a skill."</span>),</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">br</span>(),</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">p</span>(<span class="st">"Grades up to date 3/16/2022"</span>) <span class="co"># may want to change dates every time updating####</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Some final words inside the <code>server()</code> function.</p>
<p>In the template, I happen to filter out one student whose key was ‘goral’. You should delete anything with this <code>%&gt;%filter(key!='goral')</code> or <code>key!='goral'</code> in typical cases. But if you run into a similar scenario that you do not want to display someone’s grade because maybe they have decided to drop the class but still appears in the roster on BruinLearn, etc., you can use this filtering as I did.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(df<span class="sc">%&gt;%</span><span class="fu">filter</span>(key<span class="sc">!=</span><span class="st">'goral'</span>), <span class="fu">aes</span>(<span class="at">y =</span> skill,<span class="at">x=</span>num)) <span class="sc">+</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>      <span class="co"># always displaying the # of times of mastery of all skills as stars</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>      <span class="fu">geom_point</span>(<span class="at">fill =</span> <span class="st">"slateblue"</span>,</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>                 <span class="at">colour =</span> <span class="st">"slateblue"</span>,<span class="at">size=</span><span class="dv">6</span>,<span class="at">shape=</span><span class="dv">8</span>, <span class="co"># stipulating color, size, shape of the points</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>                 <span class="fu">aes</span>(<span class="at">y=</span>skill,<span class="at">x=</span>highlight))<span class="sc">+</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>      <span class="co"># displaying everyone's grade in this class of all skills as grey dots</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>      <span class="fu">geom_point</span>(<span class="at">fill =</span> <span class="st">"grey"</span>,</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>                 <span class="at">data =</span> df<span class="sc">%&gt;%</span><span class="fu">filter</span>(key<span class="sc">!=</span><span class="st">'goral'</span>),</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>                 <span class="at">colour =</span> <span class="st">"grey"</span>,<span class="at">size=</span><span class="dv">3</span>)<span class="sc">+</span></span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>      <span class="co"># displaying the grades of a particular student searched by key as plum dots</span></span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>      <span class="fu">geom_point</span>(<span class="at">fill =</span> <span class="st">"plum2"</span>,</span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>                 <span class="at">data =</span> df<span class="sc">%&gt;%</span><span class="fu">filter</span>(<span class="st">`</span><span class="at">key</span><span class="st">`</span> <span class="sc">==</span> input<span class="sc">$</span>id,skillnum<span class="sc">%in%</span>input<span class="sc">$</span>skills),</span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a>                 <span class="at">colour =</span> <span class="st">"plum2"</span>,<span class="at">size=</span><span class="dv">8</span>)<span class="sc">+</span></span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a>      <span class="fu">geom_text</span>(<span class="at">data =</span> df<span class="sc">%&gt;%</span><span class="fu">filter</span>(<span class="st">`</span><span class="at">key</span><span class="st">`</span> <span class="sc">==</span> input<span class="sc">$</span>id,skillnum<span class="sc">%in%</span>input<span class="sc">$</span>skills),</span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a>                 <span class="fu">aes</span>(<span class="at">label=</span>percentage),<span class="at">size=</span><span class="dv">6</span>,<span class="at">color=</span><span class="st">'navy'</span>,<span class="at">fontface=</span><span class="st">'bold'</span>)<span class="sc">+</span></span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a>     <span class="co"># you can choose to display exact grades or percentage by changing "label=X"</span></span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a>     <span class="co"># for example, you can display exact grades using "label=num"</span></span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a>      <span class="fu">labs</span>(<span class="at">x=</span><span class="st">'# Times demonstrated'</span>)<span class="sc">+</span>plotstyle</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>In the current design, I chose to display individual student’s score for one skill at a time upon selection of the particular skill. Alternatively, if you prefer having all skills displayed all at once, you can remove the <code>skillnum%in%input$skills</code> argument inside the <code>filter()</code> function.</p>
<p>Compare this to the previous chunk:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>      <span class="co"># displaying the grades of a particular student searched by key as plum dots</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>      <span class="fu">geom_point</span>(<span class="at">fill =</span> <span class="st">"plum2"</span>,</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>                 <span class="at">data =</span> df<span class="sc">%&gt;%</span><span class="fu">filter</span>(<span class="st">`</span><span class="at">key</span><span class="st">`</span> <span class="sc">==</span> input<span class="sc">$</span>id),</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>                 <span class="at">colour =</span> <span class="st">"plum2"</span>,<span class="at">size=</span><span class="dv">8</span>)<span class="sc">+</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>      <span class="fu">geom_text</span>(<span class="at">data =</span> df<span class="sc">%&gt;%</span><span class="fu">filter</span>(<span class="st">`</span><span class="at">key</span><span class="st">`</span> <span class="sc">==</span> input<span class="sc">$</span>id),</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>                 <span class="fu">aes</span>(<span class="at">label=</span>percentage),<span class="at">size=</span><span class="dv">6</span>,<span class="at">color=</span><span class="st">'navy'</span>,<span class="at">fontface=</span><span class="st">'bold'</span>)<span class="sc">+</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>You may also want to change aesthetics if you are familiar with <code>ggplot2</code>:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>    plotstyle <span class="ot">=</span> <span class="fu">list</span>(</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>      <span class="fu">theme_light</span>(<span class="at">base_size=</span><span class="dv">24</span>),</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>      <span class="fu">theme</span>(<span class="at">panel.border =</span> <span class="fu">element_rect</span>(<span class="at">color =</span> <span class="st">'black'</span>,<span class="at">fill=</span><span class="cn">NA</span>),</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">axis.title.y =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">20</span>),</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>            <span class="at">axis.title.x =</span> <span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">24</span>))</span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>    )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="debug" class="level2">
<h2 class="anchored" data-anchor-id="debug">Debug</h2>
<p>You do not need to run any code after making all the necessary modifications. If you really want, I recommend testing the codes in the Console, DO NOT add any other lines in the <code>app.R</code>, unless specified in this instruction.</p>
<p>When you have made all the changes strictly following this instruction, you only need to click <code>Run App</code> on the top right corner. However, if it throws an error, you now need to go back to the very beginning, and start debugging.</p>
<p>First, set up your working directory where this script and your csv files live. You can do this in the Console, or include that on line 25.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">setwd</span>(<span class="st">'Enter your working directory here'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Then, run each line, one at a time, do not skip lines, or jump back and forth. Otherwise, you have to start from the beginning.</p>
<p>Errors should be self-explanatory. It is usually a name mismatch, inconsistency problem, or typo, e.g., unaligned parentheses, etc.</p>
</section>
<section id="deployment" class="level2">
<h2 class="anchored" data-anchor-id="deployment">Deployment</h2>
<section id="for-first-time-connections" class="level4">
<h4 class="anchored" data-anchor-id="for-first-time-connections">For first-time connections:</h4>
<p>Before you want to publish the completed app, you want to log in to <a href="https://ShinyApps.io">ShinyApps.io</a>.</p>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>The p-lab has a paid account:</p>
<p>email: <em>plab.ucla@gmail.com</em></p>
<p>pwd: <em>Skillgrading2023</em></p>
</div>
</div>
<p>Once logging in, on the side menu on the left, click on <em>Account -&gt; Tokens</em>, click on <em>Add Token</em>.</p>
<p>A new token will be added <strong>on the bottom of any existing tokens</strong>. Any existing tokens are already of use by other apps and other users, so ONLY use the one you just added.</p>
<p>Click on <em>Show</em> next to the token you created.</p>
<p>It will pop up a small new window with codes and text.</p>
<p>Do not close this window or the webpage.</p>
<p>Now go back to RStudio.</p>
<p>Go to the topbar menu, find <em>File -&gt; Publish…</em></p>
<p>On the pop-up window, it will ask you to <em>Connect Account</em>. Click on <em>Next</em>. You should select the first option: <em>ShinyApps.io</em>.</p>
<p>Then you should see a window like this:</p>
<p><img src="images/Screen%20Shot%202023-06-06%20at%205.39.32%20PM.png" class="img-fluid" width="1000"></p>
<p>Follow the instructions on the window, and go back to the ShinyApps.io webpage you opened, click <em>Show Secret</em> on that small pop-up window, and <em>Copy to Clipboard</em>.</p>
<p>Go back to RStudio, and paste into the blank on this window shown in the picture.</p>
<p>Click <em>Connect Account</em>.</p>
<p>You should then see a window like this one:</p>
<p><img src="images/Screen%20Shot%202023-06-08%20at%204.49.51%20PM.png" class="img-fluid" width="1000"></p>
<p>You can change the Title and check the Files you want to include to Publish the app.</p>
</section>
<section id="if-not-the-first-time-use-e.g.-future-uses" class="level4">
<h4 class="anchored" data-anchor-id="if-not-the-first-time-use-e.g.-future-uses">If not the first-time use, e.g., future uses:</h4>
<p>When you update the app and re-launch it, you will see a slightly different window:</p>
<p><img src="images/Screen%20Shot%202023-06-08%20at%204.52.54%20PM.png" class="img-fluid" width="1000"></p>
<p>In any case, now you can click <strong>Publish</strong>.</p>
<p>Wait for the notification that the app has been published. It will also open up your default browser to show what the app looks like.</p>
<p>Yay! you are all done!</p>
<p>You can see my examples here:</p>
<blockquote class="blockquote">
<p><code>demo (this template)</code>: <a href="https://plabucla.shinyapps.io/demo/" class="uri">https://plabucla.shinyapps.io/demo/</a></p>
<p><code>103 grading (used in Winter 2023)</code>: <a href="https://plabucla.shinyapps.io/103skillgrading/" class="uri">https://plabucla.shinyapps.io/103skillgrading/</a></p>
</blockquote>
</section>
</section>
<section id="a-final-step-to-show-it-to-your-students" class="level2">
<h2 class="anchored" data-anchor-id="a-final-step-to-show-it-to-your-students">A final step to show it to your students</h2>
<p>Open up the <a href="https://ShinyApps.io">ShinyApps.io</a> and log in.</p>
<p>On the side menu on the left, click on <em>Applications -&gt; Running</em>.</p>
<p>You should see your app appear there, find it by the Title you named upon publishing.</p>
<p><img src="images/Screen%20Shot%202023-06-08%20at%204.55.44%20PM.png" class="img-fluid" width="1000"></p>
<p>Click on the Name of your app (e.g., 103skillgrading) and it will direct to this page:</p>
<p><img src="images/Screen%20Shot%202023-06-06%20at%206.01.07%20PM.png" class="img-fluid"></p>
<p>On this page, you may click the URL, to ensure that it’s working. And copy it and save it somewhere in your notes.</p>
<p>This will be the URL that you give your students.</p>
<p>The app is self-explanatory, and students will be able to use it once they have the URL. You could explain this app in class with the syllabus if you want.</p>
<p><strong>Now, you are finally done.</strong></p>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      let href = ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
</div> <!-- /content -->



</body></html>